{"version":3,"file":"date-picker-25a0adc5.js","sources":["../../../src/Components/shared/date-picker.vue"],"sourcesContent":["<template>\n    <el-date-picker\n        v-model=\"dates\"\n        type=\"daterange\"\n        unlink-panels\n        range-separator=\"To\"\n        :start-placeholder=\"start_placeholder\"\n        end-placeholder=\"End date\"\n        popper-class=\"wml-date-picker-popup\"\n        size=\"default\"\n        :shortcuts=\"shortcuts\"\n        format=\"DD/MM/YYYY\"\n        value-format=\"YYYY-MM-DD\"\n        :default-value=\"default_dates\"\n        @change=\"updateResult\"\n        :clearable=\"false\"\n      />    \n      \n</template>\n\n<script setup>\nimport { useFVStore } from \"../../stores/formvibes\";\nimport { storeToRefs } from \"pinia\";\nimport { setToLocalStorage, shortcuts } from \"../../stores/utils\";\nimport { watch } from \"vue\";\n    \nconst store = useFVStore();\n\nconst { dates, preset,generalStates } = storeToRefs(store);\n\nwatch([dates], () => {\n    const shortcut = shortcuts.filter((shortcut) => {\n        const [start, end] = shortcut.value();\n        return start.format('YYYY-MM-DD') === dates.value[0] && end.format('YYYY-MM-DD') === dates.value[1];\n    })[0];\n    \n    if(!shortcut) {\n      preset.value = 'Custom';\n    }\n    else{\n      preset.value = shortcut.text.replaceAll(' ', '_');\n    }\n\n    generalStates.value = {\n        ...generalStates.value,\n        queryParams: {\n            ...generalStates.value.queryParams,\n            query_type: preset.value,\n            page_num: 1,\n        }\n    }\n    setToLocalStorage('fv-date-range', {\n        toDate: dates.value[1] || '',\n        fromDate: dates.value[0] || '',\n        queryType: generalStates.value.queryParams.query_type,\n    });\n});\n  //   const shortcuts = [\n  //   {\n  //     text: 'Today',\n  //     value: () => {\n  //       const start = moment();\n  //       const end = moment();\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'Yesterday',\n  //     value: () => {\n  //       const start = moment().subtract(1, 'day');\n  //       const end = moment().subtract(1, 'day');\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'This Week',\n  //     value: () => {\n  //       const start = moment().startOf('isoWeek');\n  //       const end = moment().endOf('isoWeek');\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'Last Week',\n  //     value: () => {\n  //       const start = moment().startOf('isoWeek').subtract(1, 'week');\n  //       const end = moment().endOf('isoWeek').subtract(1, 'week');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'Last 30 Days',\n  //     value: () => {\n  //       const start = moment().subtract(29, 'days');\n  //       const end = moment();\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'This month',\n  //     value: () => {\n  //       const start = moment().startOf('month');\n  //       const end = moment().endOf('month');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'Last month',\n  //     value: () => {\n  //       const start = moment().subtract(1, 'month').startOf('month');\n  //       const end = moment().subtract(1, 'month').endOf('month');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'This Quarter',\n  //     value: () => {\n  //       const start = moment().startOf('quarter');\n  //       const end = moment().endOf('quarter');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'Last Quarter',\n  //     value: () => {\n  //       const start = moment().quarter(moment().quarter() - 1).startOf('quarter');\n  //       const end = moment().quarter(moment().quarter() - 1).endOf('quarter');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'This Year',\n  //     value: () => {\n  //       const start = moment().startOf('year');\n  //       const end = moment().endOf('year');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'Last Year',\n  //     value: () => {\n  //       const start = moment().startOf('year').subtract(1, 'year');\n  //       const end = moment().endOf('year').subtract(1, 'year');\n\n  //       return [start, end]\n  //     },\n  //   },\n  //   {\n  //     text: 'All Time',\n  //     value: () => {\n  //       const end = moment();\n  //       const start = moment('2019-05-29');\n\n  //       return [start, end]\n  //     },\n  //   },\n  // ];\n\n  const updateResult = (e) => { \n    console.log('fetch data ',e);\n    // store.fetchData() \n  }\n\n</script>"],"names":["store","useFVStore","dates","preset","generalStates","storeToRefs","watch","shortcut","shortcuts","start","end","setToLocalStorage","updateResult","e"],"mappings":"sPA0BA,MAAAA,EAAAC,EAAA,EAEA,CAAA,MAAAC,EAAA,OAAAC,EAAA,cAAAC,CAAA,EAAAC,EAAAL,CAAA,EAEAM,EAAA,CAAAJ,CAAA,EAAA,IAAA,CACA,MAAAK,EAAAC,EAAA,OAAAD,GAAA,CACA,KAAA,CAAAE,EAAAC,CAAA,EAAAH,EAAA,MAAA,EACA,OAAAE,EAAA,OAAA,YAAA,IAAAP,EAAA,MAAA,CAAA,GAAAQ,EAAA,OAAA,YAAA,IAAAR,EAAA,MAAA,CAAA,CACA,CAAA,EAAA,CAAA,EAEAK,EAIAJ,EAAA,MAAAI,EAAA,KAAA,WAAA,IAAA,GAAA,EAHAJ,EAAA,MAAA,SAMAC,EAAA,MAAA,CACA,GAAAA,EAAA,MACA,YAAA,CACA,GAAAA,EAAA,MAAA,YACA,WAAAD,EAAA,MACA,SAAA,CACA,CACA,EACAQ,EAAA,gBAAA,CACA,OAAAT,EAAA,MAAA,CAAA,GAAA,GACA,SAAAA,EAAA,MAAA,CAAA,GAAA,GACA,UAAAE,EAAA,MAAA,YAAA,UACA,CAAA,CACA,CAAA,EA6GA,MAAAQ,EAAAC,GAAA,CACA,QAAA,IAAA,cAAAA,CAAA,CAEA"}