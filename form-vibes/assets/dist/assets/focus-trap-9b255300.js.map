{"version":3,"file":"focus-trap-9b255300.js","sources":["../../../node_modules/lodash-es/isUndefined.js","../../../node_modules/element-plus/es/utils/dom/scroll.mjs","../../../node_modules/element-plus/es/hooks/use-escape-keydown/index.mjs","../../../node_modules/element-plus/es/components/focus-trap/src/tokens.mjs","../../../node_modules/element-plus/es/components/focus-trap/src/utils.mjs","../../../node_modules/element-plus/es/components/focus-trap/src/focus-trap.mjs"],"sourcesContent":["/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nexport default isUndefined;\n","import '../browser.mjs';\nimport { easeInOutCubic } from '../easings.mjs';\nimport { isWindow } from '../types.mjs';\nimport { rAF, cAF } from '../raf.mjs';\nimport { getStyle } from './style.mjs';\nimport { isClient } from '@vueuse/core';\n\nconst isScroll = (el, isVertical) => {\n  if (!isClient)\n    return false;\n  const key = {\n    undefined: \"overflow\",\n    true: \"overflow-y\",\n    false: \"overflow-x\"\n  }[String(isVertical)];\n  const overflow = getStyle(el, key);\n  return [\"scroll\", \"auto\", \"overlay\"].some((s) => overflow.includes(s));\n};\nconst getScrollContainer = (el, isVertical) => {\n  if (!isClient)\n    return;\n  let parent = el;\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent))\n      return window;\n    if (isScroll(parent, isVertical))\n      return parent;\n    parent = parent.parentNode;\n  }\n  return parent;\n};\nlet scrollBarWidth;\nconst getScrollBarWidth = (namespace) => {\n  var _a;\n  if (!isClient)\n    return 0;\n  if (scrollBarWidth !== void 0)\n    return scrollBarWidth;\n  const outer = document.createElement(\"div\");\n  outer.className = `${namespace}-scrollbar__wrap`;\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"100px\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"-9999px\";\n  document.body.appendChild(outer);\n  const widthNoScroll = outer.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  const widthWithScroll = inner.offsetWidth;\n  (_a = outer.parentNode) == null ? void 0 : _a.removeChild(outer);\n  scrollBarWidth = widthNoScroll - widthWithScroll;\n  return scrollBarWidth;\n};\nfunction scrollIntoView(container, selected) {\n  if (!isClient)\n    return;\n  if (!selected) {\n    container.scrollTop = 0;\n    return;\n  }\n  const offsetParents = [];\n  let pointer = selected.offsetParent;\n  while (pointer !== null && container !== pointer && container.contains(pointer)) {\n    offsetParents.push(pointer);\n    pointer = pointer.offsetParent;\n  }\n  const top = selected.offsetTop + offsetParents.reduce((prev, curr) => prev + curr.offsetTop, 0);\n  const bottom = top + selected.offsetHeight;\n  const viewRectTop = container.scrollTop;\n  const viewRectBottom = viewRectTop + container.clientHeight;\n  if (top < viewRectTop) {\n    container.scrollTop = top;\n  } else if (bottom > viewRectBottom) {\n    container.scrollTop = bottom - container.clientHeight;\n  }\n}\nfunction animateScrollTo(container, from, to, duration, callback) {\n  const startTime = Date.now();\n  let handle;\n  const scroll = () => {\n    const timestamp = Date.now();\n    const time = timestamp - startTime;\n    const nextScrollTop = easeInOutCubic(time > duration ? duration : time, from, to, duration);\n    if (isWindow(container)) {\n      container.scrollTo(window.pageXOffset, nextScrollTop);\n    } else {\n      container.scrollTop = nextScrollTop;\n    }\n    if (time < duration) {\n      handle = rAF(scroll);\n    } else if (typeof callback === \"function\") {\n      callback();\n    }\n  };\n  scroll();\n  return () => {\n    handle && cAF(handle);\n  };\n}\nconst getScrollElement = (target, container) => {\n  if (isWindow(container)) {\n    return target.ownerDocument.documentElement;\n  }\n  return container;\n};\nconst getScrollTop = (container) => {\n  if (isWindow(container)) {\n    return window.scrollY;\n  }\n  return container.scrollTop;\n};\n\nexport { animateScrollTo, getScrollBarWidth, getScrollContainer, getScrollElement, getScrollTop, isScroll, scrollIntoView };\n//# sourceMappingURL=scroll.mjs.map\n","import { onMounted, onBeforeUnmount } from 'vue';\nimport '../../utils/index.mjs';\nimport '../../constants/index.mjs';\nimport { EVENT_CODE } from '../../constants/aria.mjs';\nimport { isClient } from '@vueuse/core';\n\nlet registeredEscapeHandlers = [];\nconst cachedHandler = (e) => {\n  const event = e;\n  if (event.key === EVENT_CODE.esc) {\n    registeredEscapeHandlers.forEach((registeredHandler) => registeredHandler(event));\n  }\n};\nconst useEscapeKeydown = (handler) => {\n  onMounted(() => {\n    if (registeredEscapeHandlers.length === 0) {\n      document.addEventListener(\"keydown\", cachedHandler);\n    }\n    if (isClient)\n      registeredEscapeHandlers.push(handler);\n  });\n  onBeforeUnmount(() => {\n    registeredEscapeHandlers = registeredEscapeHandlers.filter((registeredHandler) => registeredHandler !== handler);\n    if (registeredEscapeHandlers.length === 0) {\n      if (isClient)\n        document.removeEventListener(\"keydown\", cachedHandler);\n    }\n  });\n};\n\nexport { useEscapeKeydown };\n//# sourceMappingURL=index.mjs.map\n","const FOCUS_AFTER_TRAPPED = \"focus-trap.focus-after-trapped\";\nconst FOCUS_AFTER_RELEASED = \"focus-trap.focus-after-released\";\nconst FOCUSOUT_PREVENTED = \"focus-trap.focusout-prevented\";\nconst FOCUS_AFTER_TRAPPED_OPTS = {\n  cancelable: true,\n  bubbles: false\n};\nconst FOCUSOUT_PREVENTED_OPTS = {\n  cancelable: true,\n  bubbles: false\n};\nconst ON_TRAP_FOCUS_EVT = \"focusAfterTrapped\";\nconst ON_RELEASE_FOCUS_EVT = \"focusAfterReleased\";\nconst FOCUS_TRAP_INJECTION_KEY = Symbol(\"elFocusTrap\");\n\nexport { FOCUSOUT_PREVENTED, FOCUSOUT_PREVENTED_OPTS, FOCUS_AFTER_RELEASED, FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS, FOCUS_TRAP_INJECTION_KEY, ON_RELEASE_FOCUS_EVT, ON_TRAP_FOCUS_EVT };\n//# sourceMappingURL=tokens.mjs.map\n","import { ref, onMounted, onBeforeUnmount } from 'vue';\nimport { FOCUSOUT_PREVENTED, FOCUSOUT_PREVENTED_OPTS } from './tokens.mjs';\n\nconst focusReason = ref();\nconst lastUserFocusTimestamp = ref(0);\nconst lastAutomatedFocusTimestamp = ref(0);\nlet focusReasonUserCount = 0;\nconst obtainAllFocusableElements = (element) => {\n  const nodes = [];\n  const walker = document.createTreeWalker(element, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput)\n        return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 || node === document.activeElement ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode())\n    nodes.push(walker.currentNode);\n  return nodes;\n};\nconst getVisibleElement = (elements, container) => {\n  for (const element of elements) {\n    if (!isHidden(element, container))\n      return element;\n  }\n};\nconst isHidden = (element, container) => {\n  if (process.env.NODE_ENV === \"test\")\n    return false;\n  if (getComputedStyle(element).visibility === \"hidden\")\n    return true;\n  while (element) {\n    if (container && element === container)\n      return false;\n    if (getComputedStyle(element).display === \"none\")\n      return true;\n    element = element.parentElement;\n  }\n  return false;\n};\nconst getEdges = (container) => {\n  const focusable = obtainAllFocusableElements(container);\n  const first = getVisibleElement(focusable, container);\n  const last = getVisibleElement(focusable.reverse(), container);\n  return [first, last];\n};\nconst isSelectable = (element) => {\n  return element instanceof HTMLInputElement && \"select\" in element;\n};\nconst tryFocus = (element, shouldSelect) => {\n  if (element && element.focus) {\n    const prevFocusedElement = document.activeElement;\n    element.focus({ preventScroll: true });\n    lastAutomatedFocusTimestamp.value = window.performance.now();\n    if (element !== prevFocusedElement && isSelectable(element) && shouldSelect) {\n      element.select();\n    }\n  }\n};\nfunction removeFromStack(list, item) {\n  const copy = [...list];\n  const idx = list.indexOf(item);\n  if (idx !== -1) {\n    copy.splice(idx, 1);\n  }\n  return copy;\n}\nconst createFocusableStack = () => {\n  let stack = [];\n  const push = (layer) => {\n    const currentLayer = stack[0];\n    if (currentLayer && layer !== currentLayer) {\n      currentLayer.pause();\n    }\n    stack = removeFromStack(stack, layer);\n    stack.unshift(layer);\n  };\n  const remove = (layer) => {\n    var _a, _b;\n    stack = removeFromStack(stack, layer);\n    (_b = (_a = stack[0]) == null ? void 0 : _a.resume) == null ? void 0 : _b.call(_a);\n  };\n  return {\n    push,\n    remove\n  };\n};\nconst focusFirstDescendant = (elements, shouldSelect = false) => {\n  const prevFocusedElement = document.activeElement;\n  for (const element of elements) {\n    tryFocus(element, shouldSelect);\n    if (document.activeElement !== prevFocusedElement)\n      return;\n  }\n};\nconst focusableStack = createFocusableStack();\nconst isFocusCausedByUserEvent = () => {\n  return lastUserFocusTimestamp.value > lastAutomatedFocusTimestamp.value;\n};\nconst notifyFocusReasonPointer = () => {\n  focusReason.value = \"pointer\";\n  lastUserFocusTimestamp.value = window.performance.now();\n};\nconst notifyFocusReasonKeydown = () => {\n  focusReason.value = \"keyboard\";\n  lastUserFocusTimestamp.value = window.performance.now();\n};\nconst useFocusReason = () => {\n  onMounted(() => {\n    if (focusReasonUserCount === 0) {\n      document.addEventListener(\"mousedown\", notifyFocusReasonPointer);\n      document.addEventListener(\"touchstart\", notifyFocusReasonPointer);\n      document.addEventListener(\"keydown\", notifyFocusReasonKeydown);\n    }\n    focusReasonUserCount++;\n  });\n  onBeforeUnmount(() => {\n    focusReasonUserCount--;\n    if (focusReasonUserCount <= 0) {\n      document.removeEventListener(\"mousedown\", notifyFocusReasonPointer);\n      document.removeEventListener(\"touchstart\", notifyFocusReasonPointer);\n      document.removeEventListener(\"keydown\", notifyFocusReasonKeydown);\n    }\n  });\n  return {\n    focusReason,\n    lastUserFocusTimestamp,\n    lastAutomatedFocusTimestamp\n  };\n};\nconst createFocusOutPreventedEvent = (detail) => {\n  return new CustomEvent(FOCUSOUT_PREVENTED, {\n    ...FOCUSOUT_PREVENTED_OPTS,\n    detail\n  });\n};\n\nexport { createFocusOutPreventedEvent, focusFirstDescendant, focusableStack, getEdges, getVisibleElement, isFocusCausedByUserEvent, isHidden, obtainAllFocusableElements, tryFocus, useFocusReason };\n//# sourceMappingURL=utils.mjs.map\n","import { defineComponent, ref, provide, watch, unref, nextTick, onMounted, onBeforeUnmount, renderSlot } from 'vue';\nimport { isNil } from 'lodash-unified';\nimport '../../../constants/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport { useFocusReason, getEdges, createFocusOutPreventedEvent, tryFocus, focusableStack, focusFirstDescendant, obtainAllFocusableElements, isFocusCausedByUserEvent } from './utils.mjs';\nimport { ON_TRAP_FOCUS_EVT, ON_RELEASE_FOCUS_EVT, FOCUS_TRAP_INJECTION_KEY, FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS, FOCUS_AFTER_RELEASED } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useEscapeKeydown } from '../../../hooks/use-escape-keydown/index.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nimport { isString } from '@vue/shared';\n\nconst _sfc_main = defineComponent({\n  name: \"ElFocusTrap\",\n  inheritAttrs: false,\n  props: {\n    loop: Boolean,\n    trapped: Boolean,\n    focusTrapEl: Object,\n    focusStartEl: {\n      type: [Object, String],\n      default: \"first\"\n    }\n  },\n  emits: [\n    ON_TRAP_FOCUS_EVT,\n    ON_RELEASE_FOCUS_EVT,\n    \"focusin\",\n    \"focusout\",\n    \"focusout-prevented\",\n    \"release-requested\"\n  ],\n  setup(props, { emit }) {\n    const forwardRef = ref();\n    let lastFocusBeforeTrapped;\n    let lastFocusAfterTrapped;\n    const { focusReason } = useFocusReason();\n    useEscapeKeydown((event) => {\n      if (props.trapped && !focusLayer.paused) {\n        emit(\"release-requested\", event);\n      }\n    });\n    const focusLayer = {\n      paused: false,\n      pause() {\n        this.paused = true;\n      },\n      resume() {\n        this.paused = false;\n      }\n    };\n    const onKeydown = (e) => {\n      if (!props.loop && !props.trapped)\n        return;\n      if (focusLayer.paused)\n        return;\n      const { key, altKey, ctrlKey, metaKey, currentTarget, shiftKey } = e;\n      const { loop } = props;\n      const isTabbing = key === EVENT_CODE.tab && !altKey && !ctrlKey && !metaKey;\n      const currentFocusingEl = document.activeElement;\n      if (isTabbing && currentFocusingEl) {\n        const container = currentTarget;\n        const [first, last] = getEdges(container);\n        const isTabbable = first && last;\n        if (!isTabbable) {\n          if (currentFocusingEl === container) {\n            const focusoutPreventedEvent = createFocusOutPreventedEvent({\n              focusReason: focusReason.value\n            });\n            emit(\"focusout-prevented\", focusoutPreventedEvent);\n            if (!focusoutPreventedEvent.defaultPrevented) {\n              e.preventDefault();\n            }\n          }\n        } else {\n          if (!shiftKey && currentFocusingEl === last) {\n            const focusoutPreventedEvent = createFocusOutPreventedEvent({\n              focusReason: focusReason.value\n            });\n            emit(\"focusout-prevented\", focusoutPreventedEvent);\n            if (!focusoutPreventedEvent.defaultPrevented) {\n              e.preventDefault();\n              if (loop)\n                tryFocus(first, true);\n            }\n          } else if (shiftKey && [first, container].includes(currentFocusingEl)) {\n            const focusoutPreventedEvent = createFocusOutPreventedEvent({\n              focusReason: focusReason.value\n            });\n            emit(\"focusout-prevented\", focusoutPreventedEvent);\n            if (!focusoutPreventedEvent.defaultPrevented) {\n              e.preventDefault();\n              if (loop)\n                tryFocus(last, true);\n            }\n          }\n        }\n      }\n    };\n    provide(FOCUS_TRAP_INJECTION_KEY, {\n      focusTrapRef: forwardRef,\n      onKeydown\n    });\n    watch(() => props.focusTrapEl, (focusTrapEl) => {\n      if (focusTrapEl) {\n        forwardRef.value = focusTrapEl;\n      }\n    }, { immediate: true });\n    watch([forwardRef], ([forwardRef2], [oldForwardRef]) => {\n      if (forwardRef2) {\n        forwardRef2.addEventListener(\"keydown\", onKeydown);\n        forwardRef2.addEventListener(\"focusin\", onFocusIn);\n        forwardRef2.addEventListener(\"focusout\", onFocusOut);\n      }\n      if (oldForwardRef) {\n        oldForwardRef.removeEventListener(\"keydown\", onKeydown);\n        oldForwardRef.removeEventListener(\"focusin\", onFocusIn);\n        oldForwardRef.removeEventListener(\"focusout\", onFocusOut);\n      }\n    });\n    const trapOnFocus = (e) => {\n      emit(ON_TRAP_FOCUS_EVT, e);\n    };\n    const releaseOnFocus = (e) => emit(ON_RELEASE_FOCUS_EVT, e);\n    const onFocusIn = (e) => {\n      const trapContainer = unref(forwardRef);\n      if (!trapContainer)\n        return;\n      const target = e.target;\n      const relatedTarget = e.relatedTarget;\n      const isFocusedInTrap = target && trapContainer.contains(target);\n      if (!props.trapped) {\n        const isPrevFocusedInTrap = relatedTarget && trapContainer.contains(relatedTarget);\n        if (!isPrevFocusedInTrap) {\n          lastFocusBeforeTrapped = relatedTarget;\n        }\n      }\n      if (isFocusedInTrap)\n        emit(\"focusin\", e);\n      if (focusLayer.paused)\n        return;\n      if (props.trapped) {\n        if (isFocusedInTrap) {\n          lastFocusAfterTrapped = target;\n        } else {\n          tryFocus(lastFocusAfterTrapped, true);\n        }\n      }\n    };\n    const onFocusOut = (e) => {\n      const trapContainer = unref(forwardRef);\n      if (focusLayer.paused || !trapContainer)\n        return;\n      if (props.trapped) {\n        const relatedTarget = e.relatedTarget;\n        if (!isNil(relatedTarget) && !trapContainer.contains(relatedTarget)) {\n          setTimeout(() => {\n            if (!focusLayer.paused && props.trapped) {\n              const focusoutPreventedEvent = createFocusOutPreventedEvent({\n                focusReason: focusReason.value\n              });\n              emit(\"focusout-prevented\", focusoutPreventedEvent);\n              if (!focusoutPreventedEvent.defaultPrevented) {\n                tryFocus(lastFocusAfterTrapped, true);\n              }\n            }\n          }, 0);\n        }\n      } else {\n        const target = e.target;\n        const isFocusedInTrap = target && trapContainer.contains(target);\n        if (!isFocusedInTrap)\n          emit(\"focusout\", e);\n      }\n    };\n    async function startTrap() {\n      await nextTick();\n      const trapContainer = unref(forwardRef);\n      if (trapContainer) {\n        focusableStack.push(focusLayer);\n        const prevFocusedElement = trapContainer.contains(document.activeElement) ? lastFocusBeforeTrapped : document.activeElement;\n        lastFocusBeforeTrapped = prevFocusedElement;\n        const isPrevFocusContained = trapContainer.contains(prevFocusedElement);\n        if (!isPrevFocusContained) {\n          const focusEvent = new Event(FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS);\n          trapContainer.addEventListener(FOCUS_AFTER_TRAPPED, trapOnFocus);\n          trapContainer.dispatchEvent(focusEvent);\n          if (!focusEvent.defaultPrevented) {\n            nextTick(() => {\n              let focusStartEl = props.focusStartEl;\n              if (!isString(focusStartEl)) {\n                tryFocus(focusStartEl);\n                if (document.activeElement !== focusStartEl) {\n                  focusStartEl = \"first\";\n                }\n              }\n              if (focusStartEl === \"first\") {\n                focusFirstDescendant(obtainAllFocusableElements(trapContainer), true);\n              }\n              if (document.activeElement === prevFocusedElement || focusStartEl === \"container\") {\n                tryFocus(trapContainer);\n              }\n            });\n          }\n        }\n      }\n    }\n    function stopTrap() {\n      const trapContainer = unref(forwardRef);\n      if (trapContainer) {\n        trapContainer.removeEventListener(FOCUS_AFTER_TRAPPED, trapOnFocus);\n        const releasedEvent = new CustomEvent(FOCUS_AFTER_RELEASED, {\n          ...FOCUS_AFTER_TRAPPED_OPTS,\n          detail: {\n            focusReason: focusReason.value\n          }\n        });\n        trapContainer.addEventListener(FOCUS_AFTER_RELEASED, releaseOnFocus);\n        trapContainer.dispatchEvent(releasedEvent);\n        if (!releasedEvent.defaultPrevented && (focusReason.value == \"keyboard\" || !isFocusCausedByUserEvent() || trapContainer.contains(document.activeElement))) {\n          tryFocus(lastFocusBeforeTrapped != null ? lastFocusBeforeTrapped : document.body);\n        }\n        trapContainer.removeEventListener(FOCUS_AFTER_RELEASED, releaseOnFocus);\n        focusableStack.remove(focusLayer);\n      }\n    }\n    onMounted(() => {\n      if (props.trapped) {\n        startTrap();\n      }\n      watch(() => props.trapped, (trapped) => {\n        if (trapped) {\n          startTrap();\n        } else {\n          stopTrap();\n        }\n      });\n    });\n    onBeforeUnmount(() => {\n      if (props.trapped) {\n        stopTrap();\n      }\n    });\n    return {\n      onKeydown\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return renderSlot(_ctx.$slots, \"default\", { handleKeydown: _ctx.onKeydown });\n}\nvar ElFocusTrap = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"focus-trap.vue\"]]);\n\nexport { ElFocusTrap as default };\n//# sourceMappingURL=focus-trap.mjs.map\n"],"names":["isUndefined","value","scrollBarWidth","getScrollBarWidth","namespace","_a","isClient","outer","widthNoScroll","inner","widthWithScroll","scrollIntoView","container","selected","offsetParents","pointer","top","prev","curr","bottom","viewRectTop","viewRectBottom","registeredEscapeHandlers","cachedHandler","event","EVENT_CODE","registeredHandler","useEscapeKeydown","handler","onMounted","onBeforeUnmount","FOCUS_AFTER_TRAPPED","FOCUS_AFTER_RELEASED","FOCUSOUT_PREVENTED","FOCUS_AFTER_TRAPPED_OPTS","FOCUSOUT_PREVENTED_OPTS","ON_TRAP_FOCUS_EVT","ON_RELEASE_FOCUS_EVT","FOCUS_TRAP_INJECTION_KEY","focusReason","ref","lastUserFocusTimestamp","lastAutomatedFocusTimestamp","focusReasonUserCount","obtainAllFocusableElements","element","nodes","walker","node","isHiddenInput","getVisibleElement","elements","isHidden","getEdges","focusable","first","last","isSelectable","tryFocus","shouldSelect","prevFocusedElement","removeFromStack","list","item","copy","idx","createFocusableStack","stack","layer","currentLayer","_b","focusFirstDescendant","focusableStack","isFocusCausedByUserEvent","notifyFocusReasonPointer","notifyFocusReasonKeydown","useFocusReason","createFocusOutPreventedEvent","detail","_sfc_main","defineComponent","props","emit","forwardRef","lastFocusBeforeTrapped","lastFocusAfterTrapped","focusLayer","onKeydown","e","key","altKey","ctrlKey","metaKey","currentTarget","shiftKey","loop","isTabbing","currentFocusingEl","focusoutPreventedEvent","provide","watch","focusTrapEl","forwardRef2","oldForwardRef","onFocusIn","onFocusOut","trapOnFocus","releaseOnFocus","trapContainer","unref","target","relatedTarget","isFocusedInTrap","isNil","startTrap","nextTick","focusEvent","focusStartEl","isString","stopTrap","releasedEvent","trapped","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","renderSlot","ElFocusTrap","_export_sfc"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}