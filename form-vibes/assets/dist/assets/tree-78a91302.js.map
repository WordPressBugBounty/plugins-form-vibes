{"version":3,"file":"tree-78a91302.js","sources":["../../../node_modules/element-plus/es/components/tree/src/model/util.mjs","../../../node_modules/element-plus/es/components/tree/src/model/node.mjs","../../../node_modules/element-plus/es/components/tree/src/model/tree-store.mjs","../../../node_modules/element-plus/es/components/tree/src/tree-node-content.mjs","../../../node_modules/element-plus/es/components/tree/src/model/useNodeExpandEventBroadcast.mjs","../../../node_modules/element-plus/es/components/tree/src/model/useDragNode.mjs","../../../node_modules/element-plus/es/components/tree/src/tree-node.mjs","../../../node_modules/element-plus/es/components/tree/src/model/useKeydown.mjs","../../../node_modules/element-plus/es/components/tree/src/tree.mjs","../../../node_modules/element-plus/es/components/tree/index.mjs"],"sourcesContent":["const NODE_KEY = \"$treeNodeId\";\nconst markNodeData = function(node, data) {\n  if (!data || data[NODE_KEY])\n    return;\n  Object.defineProperty(data, NODE_KEY, {\n    value: node.id,\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n};\nconst getNodeKey = function(key, data) {\n  if (!key)\n    return data[NODE_KEY];\n  return data[key];\n};\nconst handleCurrentChange = (store, emit, setCurrent) => {\n  const preCurrentNode = store.value.currentNode;\n  setCurrent();\n  const currentNode = store.value.currentNode;\n  if (preCurrentNode === currentNode)\n    return;\n  emit(\"current-change\", currentNode ? currentNode.data : null, currentNode);\n};\n\nexport { NODE_KEY, getNodeKey, handleCurrentChange, markNodeData };\n//# sourceMappingURL=util.mjs.map\n","import { reactive } from 'vue';\nimport '../../../../utils/index.mjs';\nimport { markNodeData, NODE_KEY } from './util.mjs';\nimport { hasOwn } from '@vue/shared';\n\nconst getChildState = (node) => {\n  let all = true;\n  let none = true;\n  let allWithoutDisable = true;\n  for (let i = 0, j = node.length; i < j; i++) {\n    const n = node[i];\n    if (n.checked !== true || n.indeterminate) {\n      all = false;\n      if (!n.disabled) {\n        allWithoutDisable = false;\n      }\n    }\n    if (n.checked !== false || n.indeterminate) {\n      none = false;\n    }\n  }\n  return { all, none, allWithoutDisable, half: !all && !none };\n};\nconst reInitChecked = function(node) {\n  if (node.childNodes.length === 0 || node.loading)\n    return;\n  const { all, none, half } = getChildState(node.childNodes);\n  if (all) {\n    node.checked = true;\n    node.indeterminate = false;\n  } else if (half) {\n    node.checked = false;\n    node.indeterminate = true;\n  } else if (none) {\n    node.checked = false;\n    node.indeterminate = false;\n  }\n  const parent = node.parent;\n  if (!parent || parent.level === 0)\n    return;\n  if (!node.store.checkStrictly) {\n    reInitChecked(parent);\n  }\n};\nconst getPropertyFromData = function(node, prop) {\n  const props = node.store.props;\n  const data = node.data || {};\n  const config = props[prop];\n  if (typeof config === \"function\") {\n    return config(data, node);\n  } else if (typeof config === \"string\") {\n    return data[config];\n  } else if (typeof config === \"undefined\") {\n    const dataProp = data[prop];\n    return dataProp === void 0 ? \"\" : dataProp;\n  }\n};\nlet nodeIdSeed = 0;\nclass Node {\n  constructor(options) {\n    this.id = nodeIdSeed++;\n    this.text = null;\n    this.checked = false;\n    this.indeterminate = false;\n    this.data = null;\n    this.expanded = false;\n    this.parent = null;\n    this.visible = true;\n    this.isCurrent = false;\n    this.canFocus = false;\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        this[name] = options[name];\n      }\n    }\n    this.level = 0;\n    this.loaded = false;\n    this.childNodes = [];\n    this.loading = false;\n    if (this.parent) {\n      this.level = this.parent.level + 1;\n    }\n  }\n  initialize() {\n    const store = this.store;\n    if (!store) {\n      throw new Error(\"[Node]store is required!\");\n    }\n    store.registerNode(this);\n    const props = store.props;\n    if (props && typeof props.isLeaf !== \"undefined\") {\n      const isLeaf = getPropertyFromData(this, \"isLeaf\");\n      if (typeof isLeaf === \"boolean\") {\n        this.isLeafByUser = isLeaf;\n      }\n    }\n    if (store.lazy !== true && this.data) {\n      this.setData(this.data);\n      if (store.defaultExpandAll) {\n        this.expanded = true;\n        this.canFocus = true;\n      }\n    } else if (this.level > 0 && store.lazy && store.defaultExpandAll) {\n      this.expand();\n    }\n    if (!Array.isArray(this.data)) {\n      markNodeData(this, this.data);\n    }\n    if (!this.data)\n      return;\n    const defaultExpandedKeys = store.defaultExpandedKeys;\n    const key = store.key;\n    if (key && defaultExpandedKeys && defaultExpandedKeys.includes(this.key)) {\n      this.expand(null, store.autoExpandParent);\n    }\n    if (key && store.currentNodeKey !== void 0 && this.key === store.currentNodeKey) {\n      store.currentNode = this;\n      store.currentNode.isCurrent = true;\n    }\n    if (store.lazy) {\n      store._initDefaultCheckedNode(this);\n    }\n    this.updateLeafState();\n    if (this.parent && (this.level === 1 || this.parent.expanded === true))\n      this.canFocus = true;\n  }\n  setData(data) {\n    if (!Array.isArray(data)) {\n      markNodeData(this, data);\n    }\n    this.data = data;\n    this.childNodes = [];\n    let children;\n    if (this.level === 0 && Array.isArray(this.data)) {\n      children = this.data;\n    } else {\n      children = getPropertyFromData(this, \"children\") || [];\n    }\n    for (let i = 0, j = children.length; i < j; i++) {\n      this.insertChild({ data: children[i] });\n    }\n  }\n  get label() {\n    return getPropertyFromData(this, \"label\");\n  }\n  get key() {\n    const nodeKey = this.store.key;\n    if (this.data)\n      return this.data[nodeKey];\n    return null;\n  }\n  get disabled() {\n    return getPropertyFromData(this, \"disabled\");\n  }\n  get nextSibling() {\n    const parent = this.parent;\n    if (parent) {\n      const index = parent.childNodes.indexOf(this);\n      if (index > -1) {\n        return parent.childNodes[index + 1];\n      }\n    }\n    return null;\n  }\n  get previousSibling() {\n    const parent = this.parent;\n    if (parent) {\n      const index = parent.childNodes.indexOf(this);\n      if (index > -1) {\n        return index > 0 ? parent.childNodes[index - 1] : null;\n      }\n    }\n    return null;\n  }\n  contains(target, deep = true) {\n    return (this.childNodes || []).some((child) => child === target || deep && child.contains(target));\n  }\n  remove() {\n    const parent = this.parent;\n    if (parent) {\n      parent.removeChild(this);\n    }\n  }\n  insertChild(child, index, batch) {\n    if (!child)\n      throw new Error(\"InsertChild error: child is required.\");\n    if (!(child instanceof Node)) {\n      if (!batch) {\n        const children = this.getChildren(true);\n        if (!children.includes(child.data)) {\n          if (typeof index === \"undefined\" || index < 0) {\n            children.push(child.data);\n          } else {\n            children.splice(index, 0, child.data);\n          }\n        }\n      }\n      Object.assign(child, {\n        parent: this,\n        store: this.store\n      });\n      child = reactive(new Node(child));\n      if (child instanceof Node) {\n        child.initialize();\n      }\n    }\n    ;\n    child.level = this.level + 1;\n    if (typeof index === \"undefined\" || index < 0) {\n      this.childNodes.push(child);\n    } else {\n      this.childNodes.splice(index, 0, child);\n    }\n    this.updateLeafState();\n  }\n  insertBefore(child, ref) {\n    let index;\n    if (ref) {\n      index = this.childNodes.indexOf(ref);\n    }\n    this.insertChild(child, index);\n  }\n  insertAfter(child, ref) {\n    let index;\n    if (ref) {\n      index = this.childNodes.indexOf(ref);\n      if (index !== -1)\n        index += 1;\n    }\n    this.insertChild(child, index);\n  }\n  removeChild(child) {\n    const children = this.getChildren() || [];\n    const dataIndex = children.indexOf(child.data);\n    if (dataIndex > -1) {\n      children.splice(dataIndex, 1);\n    }\n    const index = this.childNodes.indexOf(child);\n    if (index > -1) {\n      this.store && this.store.deregisterNode(child);\n      child.parent = null;\n      this.childNodes.splice(index, 1);\n    }\n    this.updateLeafState();\n  }\n  removeChildByData(data) {\n    let targetNode = null;\n    for (let i = 0; i < this.childNodes.length; i++) {\n      if (this.childNodes[i].data === data) {\n        targetNode = this.childNodes[i];\n        break;\n      }\n    }\n    if (targetNode) {\n      this.removeChild(targetNode);\n    }\n  }\n  expand(callback, expandParent) {\n    const done = () => {\n      if (expandParent) {\n        let parent = this.parent;\n        while (parent.level > 0) {\n          parent.expanded = true;\n          parent = parent.parent;\n        }\n      }\n      this.expanded = true;\n      if (callback)\n        callback();\n      this.childNodes.forEach((item) => {\n        item.canFocus = true;\n      });\n    };\n    if (this.shouldLoadData()) {\n      this.loadData((data) => {\n        if (Array.isArray(data)) {\n          if (this.checked) {\n            this.setChecked(true, true);\n          } else if (!this.store.checkStrictly) {\n            reInitChecked(this);\n          }\n          done();\n        }\n      });\n    } else {\n      done();\n    }\n  }\n  doCreateChildren(array, defaultProps = {}) {\n    array.forEach((item) => {\n      this.insertChild(Object.assign({ data: item }, defaultProps), void 0, true);\n    });\n  }\n  collapse() {\n    this.expanded = false;\n    this.childNodes.forEach((item) => {\n      item.canFocus = false;\n    });\n  }\n  shouldLoadData() {\n    return this.store.lazy === true && this.store.load && !this.loaded;\n  }\n  updateLeafState() {\n    if (this.store.lazy === true && this.loaded !== true && typeof this.isLeafByUser !== \"undefined\") {\n      this.isLeaf = this.isLeafByUser;\n      return;\n    }\n    const childNodes = this.childNodes;\n    if (!this.store.lazy || this.store.lazy === true && this.loaded === true) {\n      this.isLeaf = !childNodes || childNodes.length === 0;\n      return;\n    }\n    this.isLeaf = false;\n  }\n  setChecked(value, deep, recursion, passValue) {\n    this.indeterminate = value === \"half\";\n    this.checked = value === true;\n    if (this.store.checkStrictly)\n      return;\n    if (!(this.shouldLoadData() && !this.store.checkDescendants)) {\n      const { all, allWithoutDisable } = getChildState(this.childNodes);\n      if (!this.isLeaf && !all && allWithoutDisable) {\n        this.checked = false;\n        value = false;\n      }\n      const handleDescendants = () => {\n        if (deep) {\n          const childNodes = this.childNodes;\n          for (let i = 0, j = childNodes.length; i < j; i++) {\n            const child = childNodes[i];\n            passValue = passValue || value !== false;\n            const isCheck = child.disabled ? child.checked : passValue;\n            child.setChecked(isCheck, deep, true, passValue);\n          }\n          const { half, all: all2 } = getChildState(childNodes);\n          if (!all2) {\n            this.checked = all2;\n            this.indeterminate = half;\n          }\n        }\n      };\n      if (this.shouldLoadData()) {\n        this.loadData(() => {\n          handleDescendants();\n          reInitChecked(this);\n        }, {\n          checked: value !== false\n        });\n        return;\n      } else {\n        handleDescendants();\n      }\n    }\n    const parent = this.parent;\n    if (!parent || parent.level === 0)\n      return;\n    if (!recursion) {\n      reInitChecked(parent);\n    }\n  }\n  getChildren(forceInit = false) {\n    if (this.level === 0)\n      return this.data;\n    const data = this.data;\n    if (!data)\n      return null;\n    const props = this.store.props;\n    let children = \"children\";\n    if (props) {\n      children = props.children || \"children\";\n    }\n    if (data[children] === void 0) {\n      data[children] = null;\n    }\n    if (forceInit && !data[children]) {\n      data[children] = [];\n    }\n    return data[children];\n  }\n  updateChildren() {\n    const newData = this.getChildren() || [];\n    const oldData = this.childNodes.map((node) => node.data);\n    const newDataMap = {};\n    const newNodes = [];\n    newData.forEach((item, index) => {\n      const key = item[NODE_KEY];\n      const isNodeExists = !!key && oldData.findIndex((data) => data[NODE_KEY] === key) >= 0;\n      if (isNodeExists) {\n        newDataMap[key] = { index, data: item };\n      } else {\n        newNodes.push({ index, data: item });\n      }\n    });\n    if (!this.store.lazy) {\n      oldData.forEach((item) => {\n        if (!newDataMap[item[NODE_KEY]])\n          this.removeChildByData(item);\n      });\n    }\n    newNodes.forEach(({ index, data }) => {\n      this.insertChild({ data }, index);\n    });\n    this.updateLeafState();\n  }\n  loadData(callback, defaultProps = {}) {\n    if (this.store.lazy === true && this.store.load && !this.loaded && (!this.loading || Object.keys(defaultProps).length)) {\n      this.loading = true;\n      const resolve = (children) => {\n        this.childNodes = [];\n        this.doCreateChildren(children, defaultProps);\n        this.loaded = true;\n        this.loading = false;\n        this.updateLeafState();\n        if (callback) {\n          callback.call(this, children);\n        }\n      };\n      const reject = () => {\n        this.loading = false;\n      };\n      this.store.load(this, resolve, reject);\n    } else {\n      if (callback) {\n        callback.call(this);\n      }\n    }\n  }\n  eachNode(callback) {\n    const arr = [this];\n    while (arr.length) {\n      const node = arr.shift();\n      arr.unshift(...node.childNodes);\n      callback(node);\n    }\n  }\n  reInitChecked() {\n    if (this.store.checkStrictly)\n      return;\n    reInitChecked(this);\n  }\n}\n\nexport { Node as default, getChildState };\n//# sourceMappingURL=node.mjs.map\n","import '../../../../utils/index.mjs';\nimport Node from './node.mjs';\nimport { getNodeKey } from './util.mjs';\nimport { hasOwn, isObject } from '@vue/shared';\nimport { isPropAbsent } from '../../../../utils/types.mjs';\n\nclass TreeStore {\n  constructor(options) {\n    this.currentNode = null;\n    this.currentNodeKey = null;\n    for (const option in options) {\n      if (hasOwn(options, option)) {\n        this[option] = options[option];\n      }\n    }\n    this.nodesMap = {};\n  }\n  initialize() {\n    this.root = new Node({\n      data: this.data,\n      store: this\n    });\n    this.root.initialize();\n    if (this.lazy && this.load) {\n      const loadFn = this.load;\n      loadFn(this.root, (data) => {\n        this.root.doCreateChildren(data);\n        this._initDefaultCheckedNodes();\n      });\n    } else {\n      this._initDefaultCheckedNodes();\n    }\n  }\n  filter(value) {\n    const filterNodeMethod = this.filterNodeMethod;\n    const lazy = this.lazy;\n    const traverse = function(node) {\n      const childNodes = node.root ? node.root.childNodes : node.childNodes;\n      childNodes.forEach((child) => {\n        child.visible = filterNodeMethod.call(child, value, child.data, child);\n        traverse(child);\n      });\n      if (!node.visible && childNodes.length) {\n        let allHidden = true;\n        allHidden = !childNodes.some((child) => child.visible);\n        if (node.root) {\n          ;\n          node.root.visible = allHidden === false;\n        } else {\n          ;\n          node.visible = allHidden === false;\n        }\n      }\n      if (!value)\n        return;\n      if (node.visible && !node.isLeaf) {\n        if (!lazy || node.loaded) {\n          ;\n          node.expand();\n        }\n      }\n    };\n    traverse(this);\n  }\n  setData(newVal) {\n    const instanceChanged = newVal !== this.root.data;\n    if (instanceChanged) {\n      this.root.setData(newVal);\n      this._initDefaultCheckedNodes();\n    } else {\n      this.root.updateChildren();\n    }\n  }\n  getNode(data) {\n    if (data instanceof Node)\n      return data;\n    const key = isObject(data) ? getNodeKey(this.key, data) : data;\n    return this.nodesMap[key] || null;\n  }\n  insertBefore(data, refData) {\n    const refNode = this.getNode(refData);\n    refNode.parent.insertBefore({ data }, refNode);\n  }\n  insertAfter(data, refData) {\n    const refNode = this.getNode(refData);\n    refNode.parent.insertAfter({ data }, refNode);\n  }\n  remove(data) {\n    const node = this.getNode(data);\n    if (node && node.parent) {\n      if (node === this.currentNode) {\n        this.currentNode = null;\n      }\n      node.parent.removeChild(node);\n    }\n  }\n  append(data, parentData) {\n    const parentNode = !isPropAbsent(parentData) ? this.getNode(parentData) : this.root;\n    if (parentNode) {\n      parentNode.insertChild({ data });\n    }\n  }\n  _initDefaultCheckedNodes() {\n    const defaultCheckedKeys = this.defaultCheckedKeys || [];\n    const nodesMap = this.nodesMap;\n    defaultCheckedKeys.forEach((checkedKey) => {\n      const node = nodesMap[checkedKey];\n      if (node) {\n        node.setChecked(true, !this.checkStrictly);\n      }\n    });\n  }\n  _initDefaultCheckedNode(node) {\n    const defaultCheckedKeys = this.defaultCheckedKeys || [];\n    if (defaultCheckedKeys.includes(node.key)) {\n      node.setChecked(true, !this.checkStrictly);\n    }\n  }\n  setDefaultCheckedKey(newVal) {\n    if (newVal !== this.defaultCheckedKeys) {\n      this.defaultCheckedKeys = newVal;\n      this._initDefaultCheckedNodes();\n    }\n  }\n  registerNode(node) {\n    const key = this.key;\n    if (!node || !node.data)\n      return;\n    if (!key) {\n      this.nodesMap[node.id] = node;\n    } else {\n      const nodeKey = node.key;\n      if (nodeKey !== void 0)\n        this.nodesMap[node.key] = node;\n    }\n  }\n  deregisterNode(node) {\n    const key = this.key;\n    if (!key || !node || !node.data)\n      return;\n    node.childNodes.forEach((child) => {\n      this.deregisterNode(child);\n    });\n    delete this.nodesMap[node.key];\n  }\n  getCheckedNodes(leafOnly = false, includeHalfChecked = false) {\n    const checkedNodes = [];\n    const traverse = function(node) {\n      const childNodes = node.root ? node.root.childNodes : node.childNodes;\n      childNodes.forEach((child) => {\n        if ((child.checked || includeHalfChecked && child.indeterminate) && (!leafOnly || leafOnly && child.isLeaf)) {\n          checkedNodes.push(child.data);\n        }\n        traverse(child);\n      });\n    };\n    traverse(this);\n    return checkedNodes;\n  }\n  getCheckedKeys(leafOnly = false) {\n    return this.getCheckedNodes(leafOnly).map((data) => (data || {})[this.key]);\n  }\n  getHalfCheckedNodes() {\n    const nodes = [];\n    const traverse = function(node) {\n      const childNodes = node.root ? node.root.childNodes : node.childNodes;\n      childNodes.forEach((child) => {\n        if (child.indeterminate) {\n          nodes.push(child.data);\n        }\n        traverse(child);\n      });\n    };\n    traverse(this);\n    return nodes;\n  }\n  getHalfCheckedKeys() {\n    return this.getHalfCheckedNodes().map((data) => (data || {})[this.key]);\n  }\n  _getAllNodes() {\n    const allNodes = [];\n    const nodesMap = this.nodesMap;\n    for (const nodeKey in nodesMap) {\n      if (hasOwn(nodesMap, nodeKey)) {\n        allNodes.push(nodesMap[nodeKey]);\n      }\n    }\n    return allNodes;\n  }\n  updateChildren(key, data) {\n    const node = this.nodesMap[key];\n    if (!node)\n      return;\n    const childNodes = node.childNodes;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const child = childNodes[i];\n      this.remove(child.data);\n    }\n    for (let i = 0, j = data.length; i < j; i++) {\n      const child = data[i];\n      this.append(child, node.data);\n    }\n  }\n  _setCheckedKeys(key, leafOnly = false, checkedKeys) {\n    const allNodes = this._getAllNodes().sort((a, b) => a.level - b.level);\n    const cache = /* @__PURE__ */ Object.create(null);\n    const keys = Object.keys(checkedKeys);\n    allNodes.forEach((node) => node.setChecked(false, false));\n    const cacheCheckedChild = (node) => {\n      node.childNodes.forEach((child) => {\n        var _a;\n        cache[child.data[key]] = true;\n        if ((_a = child.childNodes) == null ? void 0 : _a.length) {\n          cacheCheckedChild(child);\n        }\n      });\n    };\n    for (let i = 0, j = allNodes.length; i < j; i++) {\n      const node = allNodes[i];\n      const nodeKey = node.data[key].toString();\n      const checked = keys.includes(nodeKey);\n      if (!checked) {\n        if (node.checked && !cache[nodeKey]) {\n          node.setChecked(false, false);\n        }\n        continue;\n      }\n      if (node.childNodes.length) {\n        cacheCheckedChild(node);\n      }\n      if (node.isLeaf || this.checkStrictly) {\n        node.setChecked(true, false);\n        continue;\n      }\n      node.setChecked(true, true);\n      if (leafOnly) {\n        node.setChecked(false, false);\n        const traverse = function(node2) {\n          const childNodes = node2.childNodes;\n          childNodes.forEach((child) => {\n            if (!child.isLeaf) {\n              child.setChecked(false, false);\n            }\n            traverse(child);\n          });\n        };\n        traverse(node);\n      }\n    }\n  }\n  setCheckedNodes(array, leafOnly = false) {\n    const key = this.key;\n    const checkedKeys = {};\n    array.forEach((item) => {\n      checkedKeys[(item || {})[key]] = true;\n    });\n    this._setCheckedKeys(key, leafOnly, checkedKeys);\n  }\n  setCheckedKeys(keys, leafOnly = false) {\n    this.defaultCheckedKeys = keys;\n    const key = this.key;\n    const checkedKeys = {};\n    keys.forEach((key2) => {\n      checkedKeys[key2] = true;\n    });\n    this._setCheckedKeys(key, leafOnly, checkedKeys);\n  }\n  setDefaultExpandedKeys(keys) {\n    keys = keys || [];\n    this.defaultExpandedKeys = keys;\n    keys.forEach((key) => {\n      const node = this.getNode(key);\n      if (node)\n        node.expand(null, this.autoExpandParent);\n    });\n  }\n  setChecked(data, checked, deep) {\n    const node = this.getNode(data);\n    if (node) {\n      node.setChecked(!!checked, deep);\n    }\n  }\n  getCurrentNode() {\n    return this.currentNode;\n  }\n  setCurrentNode(currentNode) {\n    const prevCurrentNode = this.currentNode;\n    if (prevCurrentNode) {\n      prevCurrentNode.isCurrent = false;\n    }\n    this.currentNode = currentNode;\n    this.currentNode.isCurrent = true;\n  }\n  setUserCurrentNode(node, shouldAutoExpandParent = true) {\n    const key = node[this.key];\n    const currNode = this.nodesMap[key];\n    this.setCurrentNode(currNode);\n    if (shouldAutoExpandParent && this.currentNode.level > 1) {\n      this.currentNode.parent.expand(null, true);\n    }\n  }\n  setCurrentNodeKey(key, shouldAutoExpandParent = true) {\n    if (key === null || key === void 0) {\n      this.currentNode && (this.currentNode.isCurrent = false);\n      this.currentNode = null;\n      return;\n    }\n    const node = this.getNode(key);\n    if (node) {\n      this.setCurrentNode(node);\n      if (shouldAutoExpandParent && this.currentNode.level > 1) {\n        this.currentNode.parent.expand(null, true);\n      }\n    }\n  }\n}\n\nexport { TreeStore as default };\n//# sourceMappingURL=tree-store.mjs.map\n","import { defineComponent, inject, h, renderSlot } from 'vue';\nimport '../../../hooks/index.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElTreeNodeContent\",\n  props: {\n    node: {\n      type: Object,\n      required: true\n    },\n    renderContent: Function\n  },\n  setup(props) {\n    const ns = useNamespace(\"tree\");\n    const nodeInstance = inject(\"NodeInstance\");\n    const tree = inject(\"RootTree\");\n    return () => {\n      const node = props.node;\n      const { data, store } = node;\n      return props.renderContent ? props.renderContent(h, { _self: nodeInstance, node, data, store }) : renderSlot(tree.ctx.slots, \"default\", { node, data }, () => [\n        h(\"span\", { class: ns.be(\"node\", \"label\") }, [node.label])\n      ]);\n    };\n  }\n});\nvar NodeContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"tree-node-content.vue\"]]);\n\nexport { NodeContent as default };\n//# sourceMappingURL=tree-node-content.mjs.map\n","import { inject, provide } from 'vue';\n\nfunction useNodeExpandEventBroadcast(props) {\n  const parentNodeMap = inject(\"TreeNodeMap\", null);\n  const currentNodeMap = {\n    treeNodeExpand: (node) => {\n      if (props.node !== node) {\n        props.node.collapse();\n      }\n    },\n    children: []\n  };\n  if (parentNodeMap) {\n    parentNodeMap.children.push(currentNodeMap);\n  }\n  provide(\"TreeNodeMap\", currentNodeMap);\n  return {\n    broadcastExpanded: (node) => {\n      if (!props.accordion)\n        return;\n      for (const childNode of currentNodeMap.children) {\n        childNode.treeNodeExpand(node);\n      }\n    }\n  };\n}\n\nexport { useNodeExpandEventBroadcast };\n//# sourceMappingURL=useNodeExpandEventBroadcast.mjs.map\n","import { ref, provide } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { removeClass, addClass } from '../../../../utils/dom/style.mjs';\n\nconst dragEventsKey = Symbol(\"dragEvents\");\nfunction useDragNodeHandler({ props, ctx, el$, dropIndicator$, store }) {\n  const ns = useNamespace(\"tree\");\n  const dragState = ref({\n    showDropIndicator: false,\n    draggingNode: null,\n    dropNode: null,\n    allowDrop: true,\n    dropType: null\n  });\n  const treeNodeDragStart = ({ event, treeNode }) => {\n    if (typeof props.allowDrag === \"function\" && !props.allowDrag(treeNode.node)) {\n      event.preventDefault();\n      return false;\n    }\n    event.dataTransfer.effectAllowed = \"move\";\n    try {\n      event.dataTransfer.setData(\"text/plain\", \"\");\n    } catch (e) {\n    }\n    dragState.value.draggingNode = treeNode;\n    ctx.emit(\"node-drag-start\", treeNode.node, event);\n  };\n  const treeNodeDragOver = ({ event, treeNode }) => {\n    const dropNode = treeNode;\n    const oldDropNode = dragState.value.dropNode;\n    if (oldDropNode && oldDropNode.node.id !== dropNode.node.id) {\n      removeClass(oldDropNode.$el, ns.is(\"drop-inner\"));\n    }\n    const draggingNode = dragState.value.draggingNode;\n    if (!draggingNode || !dropNode)\n      return;\n    let dropPrev = true;\n    let dropInner = true;\n    let dropNext = true;\n    let userAllowDropInner = true;\n    if (typeof props.allowDrop === \"function\") {\n      dropPrev = props.allowDrop(draggingNode.node, dropNode.node, \"prev\");\n      userAllowDropInner = dropInner = props.allowDrop(draggingNode.node, dropNode.node, \"inner\");\n      dropNext = props.allowDrop(draggingNode.node, dropNode.node, \"next\");\n    }\n    event.dataTransfer.dropEffect = dropInner || dropPrev || dropNext ? \"move\" : \"none\";\n    if ((dropPrev || dropInner || dropNext) && (oldDropNode == null ? void 0 : oldDropNode.node.id) !== dropNode.node.id) {\n      if (oldDropNode) {\n        ctx.emit(\"node-drag-leave\", draggingNode.node, oldDropNode.node, event);\n      }\n      ctx.emit(\"node-drag-enter\", draggingNode.node, dropNode.node, event);\n    }\n    if (dropPrev || dropInner || dropNext) {\n      dragState.value.dropNode = dropNode;\n    } else {\n      dragState.value.dropNode = null;\n    }\n    if (dropNode.node.nextSibling === draggingNode.node) {\n      dropNext = false;\n    }\n    if (dropNode.node.previousSibling === draggingNode.node) {\n      dropPrev = false;\n    }\n    if (dropNode.node.contains(draggingNode.node, false)) {\n      dropInner = false;\n    }\n    if (draggingNode.node === dropNode.node || draggingNode.node.contains(dropNode.node)) {\n      dropPrev = false;\n      dropInner = false;\n      dropNext = false;\n    }\n    const targetPosition = dropNode.$el.querySelector(`.${ns.be(\"node\", \"content\")}`).getBoundingClientRect();\n    const treePosition = el$.value.getBoundingClientRect();\n    let dropType;\n    const prevPercent = dropPrev ? dropInner ? 0.25 : dropNext ? 0.45 : 1 : -1;\n    const nextPercent = dropNext ? dropInner ? 0.75 : dropPrev ? 0.55 : 0 : 1;\n    let indicatorTop = -9999;\n    const distance = event.clientY - targetPosition.top;\n    if (distance < targetPosition.height * prevPercent) {\n      dropType = \"before\";\n    } else if (distance > targetPosition.height * nextPercent) {\n      dropType = \"after\";\n    } else if (dropInner) {\n      dropType = \"inner\";\n    } else {\n      dropType = \"none\";\n    }\n    const iconPosition = dropNode.$el.querySelector(`.${ns.be(\"node\", \"expand-icon\")}`).getBoundingClientRect();\n    const dropIndicator = dropIndicator$.value;\n    if (dropType === \"before\") {\n      indicatorTop = iconPosition.top - treePosition.top;\n    } else if (dropType === \"after\") {\n      indicatorTop = iconPosition.bottom - treePosition.top;\n    }\n    dropIndicator.style.top = `${indicatorTop}px`;\n    dropIndicator.style.left = `${iconPosition.right - treePosition.left}px`;\n    if (dropType === \"inner\") {\n      addClass(dropNode.$el, ns.is(\"drop-inner\"));\n    } else {\n      removeClass(dropNode.$el, ns.is(\"drop-inner\"));\n    }\n    dragState.value.showDropIndicator = dropType === \"before\" || dropType === \"after\";\n    dragState.value.allowDrop = dragState.value.showDropIndicator || userAllowDropInner;\n    dragState.value.dropType = dropType;\n    ctx.emit(\"node-drag-over\", draggingNode.node, dropNode.node, event);\n  };\n  const treeNodeDragEnd = (event) => {\n    const { draggingNode, dropType, dropNode } = dragState.value;\n    event.preventDefault();\n    event.dataTransfer.dropEffect = \"move\";\n    if (draggingNode && dropNode) {\n      const draggingNodeCopy = { data: draggingNode.node.data };\n      if (dropType !== \"none\") {\n        draggingNode.node.remove();\n      }\n      if (dropType === \"before\") {\n        dropNode.node.parent.insertBefore(draggingNodeCopy, dropNode.node);\n      } else if (dropType === \"after\") {\n        dropNode.node.parent.insertAfter(draggingNodeCopy, dropNode.node);\n      } else if (dropType === \"inner\") {\n        dropNode.node.insertChild(draggingNodeCopy);\n      }\n      if (dropType !== \"none\") {\n        store.value.registerNode(draggingNodeCopy);\n        if (store.value.key) {\n          draggingNode.node.eachNode((node) => {\n            var _a;\n            (_a = store.value.nodesMap[node.data[store.value.key]]) == null ? void 0 : _a.setChecked(node.checked, !store.value.checkStrictly);\n          });\n        }\n      }\n      removeClass(dropNode.$el, ns.is(\"drop-inner\"));\n      ctx.emit(\"node-drag-end\", draggingNode.node, dropNode.node, dropType, event);\n      if (dropType !== \"none\") {\n        ctx.emit(\"node-drop\", draggingNode.node, dropNode.node, dropType, event);\n      }\n    }\n    if (draggingNode && !dropNode) {\n      ctx.emit(\"node-drag-end\", draggingNode.node, null, dropType, event);\n    }\n    dragState.value.showDropIndicator = false;\n    dragState.value.draggingNode = null;\n    dragState.value.dropNode = null;\n    dragState.value.allowDrop = true;\n  };\n  provide(dragEventsKey, {\n    treeNodeDragStart,\n    treeNodeDragOver,\n    treeNodeDragEnd\n  });\n  return {\n    dragState\n  };\n}\n\nexport { dragEventsKey, useDragNodeHandler };\n//# sourceMappingURL=useDragNode.mjs.map\n","import { defineComponent, inject, ref, getCurrentInstance, provide, watch, nextTick, resolveComponent, withDirectives, openBlock, createElementBlock, normalizeClass, withModifiers, createElementVNode, normalizeStyle, createBlock, withCtx, resolveDynamicComponent, createCommentVNode, createVNode, Fragment, renderList, vShow } from 'vue';\nimport { isFunction, isString } from '@vue/shared';\nimport _CollapseTransition from '../../collapse-transition/index.mjs';\nimport { ElCheckbox } from '../../checkbox/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { Loading, CaretRight } from '@element-plus/icons-vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport NodeContent from './tree-node-content.mjs';\nimport { getNodeKey, handleCurrentChange } from './model/util.mjs';\nimport { useNodeExpandEventBroadcast } from './model/useNodeExpandEventBroadcast.mjs';\nimport { dragEventsKey } from './model/useDragNode.mjs';\nimport Node from './model/node.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElTreeNode\",\n  components: {\n    ElCollapseTransition: _CollapseTransition,\n    ElCheckbox,\n    NodeContent,\n    ElIcon,\n    Loading\n  },\n  props: {\n    node: {\n      type: Node,\n      default: () => ({})\n    },\n    props: {\n      type: Object,\n      default: () => ({})\n    },\n    accordion: Boolean,\n    renderContent: Function,\n    renderAfterExpand: Boolean,\n    showCheckbox: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"node-expand\"],\n  setup(props, ctx) {\n    const ns = useNamespace(\"tree\");\n    const { broadcastExpanded } = useNodeExpandEventBroadcast(props);\n    const tree = inject(\"RootTree\");\n    const expanded = ref(false);\n    const childNodeRendered = ref(false);\n    const oldChecked = ref(null);\n    const oldIndeterminate = ref(null);\n    const node$ = ref(null);\n    const dragEvents = inject(dragEventsKey);\n    const instance = getCurrentInstance();\n    provide(\"NodeInstance\", instance);\n    if (!tree) {\n      debugWarn(\"Tree\", \"Can not find node's tree.\");\n    }\n    if (props.node.expanded) {\n      expanded.value = true;\n      childNodeRendered.value = true;\n    }\n    const childrenKey = tree.props.props[\"children\"] || \"children\";\n    watch(() => {\n      const children = props.node.data[childrenKey];\n      return children && [...children];\n    }, () => {\n      props.node.updateChildren();\n    });\n    watch(() => props.node.indeterminate, (val) => {\n      handleSelectChange(props.node.checked, val);\n    });\n    watch(() => props.node.checked, (val) => {\n      handleSelectChange(val, props.node.indeterminate);\n    });\n    watch(() => props.node.childNodes.length, () => props.node.reInitChecked());\n    watch(() => props.node.expanded, (val) => {\n      nextTick(() => expanded.value = val);\n      if (val) {\n        childNodeRendered.value = true;\n      }\n    });\n    const getNodeKey$1 = (node) => {\n      return getNodeKey(tree.props.nodeKey, node.data);\n    };\n    const getNodeClass = (node) => {\n      const nodeClassFunc = props.props.class;\n      if (!nodeClassFunc) {\n        return {};\n      }\n      let className;\n      if (isFunction(nodeClassFunc)) {\n        const { data } = node;\n        className = nodeClassFunc(data, node);\n      } else {\n        className = nodeClassFunc;\n      }\n      if (isString(className)) {\n        return { [className]: true };\n      } else {\n        return className;\n      }\n    };\n    const handleSelectChange = (checked, indeterminate) => {\n      if (oldChecked.value !== checked || oldIndeterminate.value !== indeterminate) {\n        tree.ctx.emit(\"check-change\", props.node.data, checked, indeterminate);\n      }\n      oldChecked.value = checked;\n      oldIndeterminate.value = indeterminate;\n    };\n    const handleClick = (e) => {\n      handleCurrentChange(tree.store, tree.ctx.emit, () => tree.store.value.setCurrentNode(props.node));\n      tree.currentNode.value = props.node;\n      if (tree.props.expandOnClickNode) {\n        handleExpandIconClick();\n      }\n      if (tree.props.checkOnClickNode && !props.node.disabled) {\n        handleCheckChange(null, {\n          target: { checked: !props.node.checked }\n        });\n      }\n      tree.ctx.emit(\"node-click\", props.node.data, props.node, instance, e);\n    };\n    const handleContextMenu = (event) => {\n      if (tree.instance.vnode.props[\"onNodeContextmenu\"]) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n      tree.ctx.emit(\"node-contextmenu\", event, props.node.data, props.node, instance);\n    };\n    const handleExpandIconClick = () => {\n      if (props.node.isLeaf)\n        return;\n      if (expanded.value) {\n        tree.ctx.emit(\"node-collapse\", props.node.data, props.node, instance);\n        props.node.collapse();\n      } else {\n        props.node.expand();\n        ctx.emit(\"node-expand\", props.node.data, props.node, instance);\n      }\n    };\n    const handleCheckChange = (value, ev) => {\n      props.node.setChecked(ev.target.checked, !tree.props.checkStrictly);\n      nextTick(() => {\n        const store = tree.store.value;\n        tree.ctx.emit(\"check\", props.node.data, {\n          checkedNodes: store.getCheckedNodes(),\n          checkedKeys: store.getCheckedKeys(),\n          halfCheckedNodes: store.getHalfCheckedNodes(),\n          halfCheckedKeys: store.getHalfCheckedKeys()\n        });\n      });\n    };\n    const handleChildNodeExpand = (nodeData, node, instance2) => {\n      broadcastExpanded(node);\n      tree.ctx.emit(\"node-expand\", nodeData, node, instance2);\n    };\n    const handleDragStart = (event) => {\n      if (!tree.props.draggable)\n        return;\n      dragEvents.treeNodeDragStart({ event, treeNode: props });\n    };\n    const handleDragOver = (event) => {\n      event.preventDefault();\n      if (!tree.props.draggable)\n        return;\n      dragEvents.treeNodeDragOver({\n        event,\n        treeNode: { $el: node$.value, node: props.node }\n      });\n    };\n    const handleDrop = (event) => {\n      event.preventDefault();\n    };\n    const handleDragEnd = (event) => {\n      if (!tree.props.draggable)\n        return;\n      dragEvents.treeNodeDragEnd(event);\n    };\n    return {\n      ns,\n      node$,\n      tree,\n      expanded,\n      childNodeRendered,\n      oldChecked,\n      oldIndeterminate,\n      getNodeKey: getNodeKey$1,\n      getNodeClass,\n      handleSelectChange,\n      handleClick,\n      handleContextMenu,\n      handleExpandIconClick,\n      handleCheckChange,\n      handleChildNodeExpand,\n      handleDragStart,\n      handleDragOver,\n      handleDrop,\n      handleDragEnd,\n      CaretRight\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-expanded\", \"aria-disabled\", \"aria-checked\", \"draggable\", \"data-key\"];\nconst _hoisted_2 = [\"aria-expanded\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n  const _component_loading = resolveComponent(\"loading\");\n  const _component_node_content = resolveComponent(\"node-content\");\n  const _component_el_tree_node = resolveComponent(\"el-tree-node\");\n  const _component_el_collapse_transition = resolveComponent(\"el-collapse-transition\");\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    ref: \"node$\",\n    class: normalizeClass([\n      _ctx.ns.b(\"node\"),\n      _ctx.ns.is(\"expanded\", _ctx.expanded),\n      _ctx.ns.is(\"current\", _ctx.node.isCurrent),\n      _ctx.ns.is(\"hidden\", !_ctx.node.visible),\n      _ctx.ns.is(\"focusable\", !_ctx.node.disabled),\n      _ctx.ns.is(\"checked\", !_ctx.node.disabled && _ctx.node.checked),\n      _ctx.getNodeClass(_ctx.node)\n    ]),\n    role: \"treeitem\",\n    tabindex: \"-1\",\n    \"aria-expanded\": _ctx.expanded,\n    \"aria-disabled\": _ctx.node.disabled,\n    \"aria-checked\": _ctx.node.checked,\n    draggable: _ctx.tree.props.draggable,\n    \"data-key\": _ctx.getNodeKey(_ctx.node),\n    onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"])),\n    onContextmenu: _cache[2] || (_cache[2] = (...args) => _ctx.handleContextMenu && _ctx.handleContextMenu(...args)),\n    onDragstart: _cache[3] || (_cache[3] = withModifiers((...args) => _ctx.handleDragStart && _ctx.handleDragStart(...args), [\"stop\"])),\n    onDragover: _cache[4] || (_cache[4] = withModifiers((...args) => _ctx.handleDragOver && _ctx.handleDragOver(...args), [\"stop\"])),\n    onDragend: _cache[5] || (_cache[5] = withModifiers((...args) => _ctx.handleDragEnd && _ctx.handleDragEnd(...args), [\"stop\"])),\n    onDrop: _cache[6] || (_cache[6] = withModifiers((...args) => _ctx.handleDrop && _ctx.handleDrop(...args), [\"stop\"]))\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.be(\"node\", \"content\")),\n      style: normalizeStyle({ paddingLeft: (_ctx.node.level - 1) * _ctx.tree.props.indent + \"px\" })\n    }, [\n      _ctx.tree.props.icon || _ctx.CaretRight ? (openBlock(), createBlock(_component_el_icon, {\n        key: 0,\n        class: normalizeClass([\n          _ctx.ns.be(\"node\", \"expand-icon\"),\n          _ctx.ns.is(\"leaf\", _ctx.node.isLeaf),\n          {\n            expanded: !_ctx.node.isLeaf && _ctx.expanded\n          }\n        ]),\n        onClick: withModifiers(_ctx.handleExpandIconClick, [\"stop\"])\n      }, {\n        default: withCtx(() => [\n          (openBlock(), createBlock(resolveDynamicComponent(_ctx.tree.props.icon || _ctx.CaretRight)))\n        ]),\n        _: 1\n      }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true),\n      _ctx.showCheckbox ? (openBlock(), createBlock(_component_el_checkbox, {\n        key: 1,\n        \"model-value\": _ctx.node.checked,\n        indeterminate: _ctx.node.indeterminate,\n        disabled: !!_ctx.node.disabled,\n        onClick: _cache[0] || (_cache[0] = withModifiers(() => {\n        }, [\"stop\"])),\n        onChange: _ctx.handleCheckChange\n      }, null, 8, [\"model-value\", \"indeterminate\", \"disabled\", \"onChange\"])) : createCommentVNode(\"v-if\", true),\n      _ctx.node.loading ? (openBlock(), createBlock(_component_el_icon, {\n        key: 2,\n        class: normalizeClass([_ctx.ns.be(\"node\", \"loading-icon\"), _ctx.ns.is(\"loading\")])\n      }, {\n        default: withCtx(() => [\n          createVNode(_component_loading)\n        ]),\n        _: 1\n      }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n      createVNode(_component_node_content, {\n        node: _ctx.node,\n        \"render-content\": _ctx.renderContent\n      }, null, 8, [\"node\", \"render-content\"])\n    ], 6),\n    createVNode(_component_el_collapse_transition, null, {\n      default: withCtx(() => [\n        !_ctx.renderAfterExpand || _ctx.childNodeRendered ? withDirectives((openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass(_ctx.ns.be(\"node\", \"children\")),\n          role: \"group\",\n          \"aria-expanded\": _ctx.expanded\n        }, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.node.childNodes, (child) => {\n            return openBlock(), createBlock(_component_el_tree_node, {\n              key: _ctx.getNodeKey(child),\n              \"render-content\": _ctx.renderContent,\n              \"render-after-expand\": _ctx.renderAfterExpand,\n              \"show-checkbox\": _ctx.showCheckbox,\n              node: child,\n              accordion: _ctx.accordion,\n              props: _ctx.props,\n              onNodeExpand: _ctx.handleChildNodeExpand\n            }, null, 8, [\"render-content\", \"render-after-expand\", \"show-checkbox\", \"node\", \"accordion\", \"props\", \"onNodeExpand\"]);\n          }), 128))\n        ], 10, _hoisted_2)), [\n          [vShow, _ctx.expanded]\n        ]) : createCommentVNode(\"v-if\", true)\n      ]),\n      _: 1\n    })\n  ], 42, _hoisted_1)), [\n    [vShow, _ctx.node.visible]\n  ]);\n}\nvar ElTreeNode = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"tree-node.vue\"]]);\n\nexport { ElTreeNode as default };\n//# sourceMappingURL=tree-node.mjs.map\n","import { shallowRef, onMounted, onUpdated, watch } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport '../../../../constants/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { EVENT_CODE } from '../../../../constants/aria.mjs';\n\nfunction useKeydown({ el$ }, store) {\n  const ns = useNamespace(\"tree\");\n  const treeItems = shallowRef([]);\n  const checkboxItems = shallowRef([]);\n  onMounted(() => {\n    initTabIndex();\n  });\n  onUpdated(() => {\n    treeItems.value = Array.from(el$.value.querySelectorAll(\"[role=treeitem]\"));\n    checkboxItems.value = Array.from(el$.value.querySelectorAll(\"input[type=checkbox]\"));\n  });\n  watch(checkboxItems, (val) => {\n    val.forEach((checkbox) => {\n      checkbox.setAttribute(\"tabindex\", \"-1\");\n    });\n  });\n  const handleKeydown = (ev) => {\n    const currentItem = ev.target;\n    if (!currentItem.className.includes(ns.b(\"node\")))\n      return;\n    const code = ev.code;\n    treeItems.value = Array.from(el$.value.querySelectorAll(`.${ns.is(\"focusable\")}[role=treeitem]`));\n    const currentIndex = treeItems.value.indexOf(currentItem);\n    let nextIndex;\n    if ([EVENT_CODE.up, EVENT_CODE.down].includes(code)) {\n      ev.preventDefault();\n      if (code === EVENT_CODE.up) {\n        nextIndex = currentIndex === -1 ? 0 : currentIndex !== 0 ? currentIndex - 1 : treeItems.value.length - 1;\n        const startIndex = nextIndex;\n        while (true) {\n          if (store.value.getNode(treeItems.value[nextIndex].dataset.key).canFocus)\n            break;\n          nextIndex--;\n          if (nextIndex === startIndex) {\n            nextIndex = -1;\n            break;\n          }\n          if (nextIndex < 0) {\n            nextIndex = treeItems.value.length - 1;\n          }\n        }\n      } else {\n        nextIndex = currentIndex === -1 ? 0 : currentIndex < treeItems.value.length - 1 ? currentIndex + 1 : 0;\n        const startIndex = nextIndex;\n        while (true) {\n          if (store.value.getNode(treeItems.value[nextIndex].dataset.key).canFocus)\n            break;\n          nextIndex++;\n          if (nextIndex === startIndex) {\n            nextIndex = -1;\n            break;\n          }\n          if (nextIndex >= treeItems.value.length) {\n            nextIndex = 0;\n          }\n        }\n      }\n      nextIndex !== -1 && treeItems.value[nextIndex].focus();\n    }\n    if ([EVENT_CODE.left, EVENT_CODE.right].includes(code)) {\n      ev.preventDefault();\n      currentItem.click();\n    }\n    const hasInput = currentItem.querySelector('[type=\"checkbox\"]');\n    if ([EVENT_CODE.enter, EVENT_CODE.space].includes(code) && hasInput) {\n      ev.preventDefault();\n      hasInput.click();\n    }\n  };\n  useEventListener(el$, \"keydown\", handleKeydown);\n  const initTabIndex = () => {\n    var _a;\n    treeItems.value = Array.from(el$.value.querySelectorAll(`.${ns.is(\"focusable\")}[role=treeitem]`));\n    checkboxItems.value = Array.from(el$.value.querySelectorAll(\"input[type=checkbox]\"));\n    const checkedItem = el$.value.querySelectorAll(`.${ns.is(\"checked\")}[role=treeitem]`);\n    if (checkedItem.length) {\n      checkedItem[0].setAttribute(\"tabindex\", \"0\");\n      return;\n    }\n    (_a = treeItems.value[0]) == null ? void 0 : _a.setAttribute(\"tabindex\", \"0\");\n  };\n}\n\nexport { useKeydown };\n//# sourceMappingURL=useKeydown.mjs.map\n","import { defineComponent, ref, computed, watch, provide, getCurrentInstance, resolveComponent, openBlock, createElementBlock, normalizeClass, Fragment, renderList, createBlock, renderSlot, createElementVNode, toDisplayString, createCommentVNode, withDirectives, vShow } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../form/index.mjs';\nimport TreeStore from './model/tree-store.mjs';\nimport { getNodeKey, handleCurrentChange } from './model/util.mjs';\nimport ElTreeNode from './tree-node.mjs';\nimport { useNodeExpandEventBroadcast } from './model/useNodeExpandEventBroadcast.mjs';\nimport { useDragNodeHandler } from './model/useDragNode.mjs';\nimport { useKeydown } from './model/useKeydown.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { formItemContextKey } from '../../form/src/constants.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElTree\",\n  components: { ElTreeNode },\n  props: {\n    data: {\n      type: Array,\n      default: () => []\n    },\n    emptyText: {\n      type: String\n    },\n    renderAfterExpand: {\n      type: Boolean,\n      default: true\n    },\n    nodeKey: String,\n    checkStrictly: Boolean,\n    defaultExpandAll: Boolean,\n    expandOnClickNode: {\n      type: Boolean,\n      default: true\n    },\n    checkOnClickNode: Boolean,\n    checkDescendants: {\n      type: Boolean,\n      default: false\n    },\n    autoExpandParent: {\n      type: Boolean,\n      default: true\n    },\n    defaultCheckedKeys: Array,\n    defaultExpandedKeys: Array,\n    currentNodeKey: [String, Number],\n    renderContent: Function,\n    showCheckbox: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    allowDrag: Function,\n    allowDrop: Function,\n    props: {\n      type: Object,\n      default: () => ({\n        children: \"children\",\n        label: \"label\",\n        disabled: \"disabled\"\n      })\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    },\n    highlightCurrent: Boolean,\n    load: Function,\n    filterNodeMethod: Function,\n    accordion: Boolean,\n    indent: {\n      type: Number,\n      default: 18\n    },\n    icon: {\n      type: iconPropType\n    }\n  },\n  emits: [\n    \"check-change\",\n    \"current-change\",\n    \"node-click\",\n    \"node-contextmenu\",\n    \"node-collapse\",\n    \"node-expand\",\n    \"check\",\n    \"node-drag-start\",\n    \"node-drag-end\",\n    \"node-drop\",\n    \"node-drag-leave\",\n    \"node-drag-enter\",\n    \"node-drag-over\"\n  ],\n  setup(props, ctx) {\n    const { t } = useLocale();\n    const ns = useNamespace(\"tree\");\n    const store = ref(new TreeStore({\n      key: props.nodeKey,\n      data: props.data,\n      lazy: props.lazy,\n      props: props.props,\n      load: props.load,\n      currentNodeKey: props.currentNodeKey,\n      checkStrictly: props.checkStrictly,\n      checkDescendants: props.checkDescendants,\n      defaultCheckedKeys: props.defaultCheckedKeys,\n      defaultExpandedKeys: props.defaultExpandedKeys,\n      autoExpandParent: props.autoExpandParent,\n      defaultExpandAll: props.defaultExpandAll,\n      filterNodeMethod: props.filterNodeMethod\n    }));\n    store.value.initialize();\n    const root = ref(store.value.root);\n    const currentNode = ref(null);\n    const el$ = ref(null);\n    const dropIndicator$ = ref(null);\n    const { broadcastExpanded } = useNodeExpandEventBroadcast(props);\n    const { dragState } = useDragNodeHandler({\n      props,\n      ctx,\n      el$,\n      dropIndicator$,\n      store\n    });\n    useKeydown({ el$ }, store);\n    const isEmpty = computed(() => {\n      const { childNodes } = root.value;\n      return !childNodes || childNodes.length === 0 || childNodes.every(({ visible }) => !visible);\n    });\n    watch(() => props.currentNodeKey, (newVal) => {\n      store.value.setCurrentNodeKey(newVal);\n    });\n    watch(() => props.defaultCheckedKeys, (newVal) => {\n      store.value.setDefaultCheckedKey(newVal);\n    });\n    watch(() => props.defaultExpandedKeys, (newVal) => {\n      store.value.setDefaultExpandedKeys(newVal);\n    });\n    watch(() => props.data, (newVal) => {\n      store.value.setData(newVal);\n    }, { deep: true });\n    watch(() => props.checkStrictly, (newVal) => {\n      store.value.checkStrictly = newVal;\n    });\n    const filter = (value) => {\n      if (!props.filterNodeMethod)\n        throw new Error(\"[Tree] filterNodeMethod is required when filter\");\n      store.value.filter(value);\n    };\n    const getNodeKey$1 = (node) => {\n      return getNodeKey(props.nodeKey, node.data);\n    };\n    const getNodePath = (data) => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in getNodePath\");\n      const node = store.value.getNode(data);\n      if (!node)\n        return [];\n      const path = [node.data];\n      let parent = node.parent;\n      while (parent && parent !== root.value) {\n        path.push(parent.data);\n        parent = parent.parent;\n      }\n      return path.reverse();\n    };\n    const getCheckedNodes = (leafOnly, includeHalfChecked) => {\n      return store.value.getCheckedNodes(leafOnly, includeHalfChecked);\n    };\n    const getCheckedKeys = (leafOnly) => {\n      return store.value.getCheckedKeys(leafOnly);\n    };\n    const getCurrentNode = () => {\n      const currentNode2 = store.value.getCurrentNode();\n      return currentNode2 ? currentNode2.data : null;\n    };\n    const getCurrentKey = () => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in getCurrentKey\");\n      const currentNode2 = getCurrentNode();\n      return currentNode2 ? currentNode2[props.nodeKey] : null;\n    };\n    const setCheckedNodes = (nodes, leafOnly) => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in setCheckedNodes\");\n      store.value.setCheckedNodes(nodes, leafOnly);\n    };\n    const setCheckedKeys = (keys, leafOnly) => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in setCheckedKeys\");\n      store.value.setCheckedKeys(keys, leafOnly);\n    };\n    const setChecked = (data, checked, deep) => {\n      store.value.setChecked(data, checked, deep);\n    };\n    const getHalfCheckedNodes = () => {\n      return store.value.getHalfCheckedNodes();\n    };\n    const getHalfCheckedKeys = () => {\n      return store.value.getHalfCheckedKeys();\n    };\n    const setCurrentNode = (node, shouldAutoExpandParent = true) => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in setCurrentNode\");\n      handleCurrentChange(store, ctx.emit, () => store.value.setUserCurrentNode(node, shouldAutoExpandParent));\n    };\n    const setCurrentKey = (key, shouldAutoExpandParent = true) => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in setCurrentKey\");\n      handleCurrentChange(store, ctx.emit, () => store.value.setCurrentNodeKey(key, shouldAutoExpandParent));\n    };\n    const getNode = (data) => {\n      return store.value.getNode(data);\n    };\n    const remove = (data) => {\n      store.value.remove(data);\n    };\n    const append = (data, parentNode) => {\n      store.value.append(data, parentNode);\n    };\n    const insertBefore = (data, refNode) => {\n      store.value.insertBefore(data, refNode);\n    };\n    const insertAfter = (data, refNode) => {\n      store.value.insertAfter(data, refNode);\n    };\n    const handleNodeExpand = (nodeData, node, instance) => {\n      broadcastExpanded(node);\n      ctx.emit(\"node-expand\", nodeData, node, instance);\n    };\n    const updateKeyChildren = (key, data) => {\n      if (!props.nodeKey)\n        throw new Error(\"[Tree] nodeKey is required in updateKeyChild\");\n      store.value.updateChildren(key, data);\n    };\n    provide(\"RootTree\", {\n      ctx,\n      props,\n      store,\n      root,\n      currentNode,\n      instance: getCurrentInstance()\n    });\n    provide(formItemContextKey, void 0);\n    return {\n      ns,\n      store,\n      root,\n      currentNode,\n      dragState,\n      el$,\n      dropIndicator$,\n      isEmpty,\n      filter,\n      getNodeKey: getNodeKey$1,\n      getNodePath,\n      getCheckedNodes,\n      getCheckedKeys,\n      getCurrentNode,\n      getCurrentKey,\n      setCheckedNodes,\n      setCheckedKeys,\n      setChecked,\n      getHalfCheckedNodes,\n      getHalfCheckedKeys,\n      setCurrentNode,\n      setCurrentKey,\n      t,\n      getNode,\n      remove,\n      append,\n      insertBefore,\n      insertAfter,\n      handleNodeExpand,\n      updateKeyChildren\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tree_node = resolveComponent(\"el-tree-node\");\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"el$\",\n    class: normalizeClass([\n      _ctx.ns.b(),\n      _ctx.ns.is(\"dragging\", !!_ctx.dragState.draggingNode),\n      _ctx.ns.is(\"drop-not-allow\", !_ctx.dragState.allowDrop),\n      _ctx.ns.is(\"drop-inner\", _ctx.dragState.dropType === \"inner\"),\n      { [_ctx.ns.m(\"highlight-current\")]: _ctx.highlightCurrent }\n    ]),\n    role: \"tree\"\n  }, [\n    (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.root.childNodes, (child) => {\n      return openBlock(), createBlock(_component_el_tree_node, {\n        key: _ctx.getNodeKey(child),\n        node: child,\n        props: _ctx.props,\n        accordion: _ctx.accordion,\n        \"render-after-expand\": _ctx.renderAfterExpand,\n        \"show-checkbox\": _ctx.showCheckbox,\n        \"render-content\": _ctx.renderContent,\n        onNodeExpand: _ctx.handleNodeExpand\n      }, null, 8, [\"node\", \"props\", \"accordion\", \"render-after-expand\", \"show-checkbox\", \"render-content\", \"onNodeExpand\"]);\n    }), 128)),\n    _ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: normalizeClass(_ctx.ns.e(\"empty-block\"))\n    }, [\n      renderSlot(_ctx.$slots, \"empty\", {}, () => {\n        var _a;\n        return [\n          createElementVNode(\"span\", {\n            class: normalizeClass(_ctx.ns.e(\"empty-text\"))\n          }, toDisplayString((_a = _ctx.emptyText) != null ? _a : _ctx.t(\"el.tree.emptyText\")), 3)\n        ];\n      })\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    withDirectives(createElementVNode(\"div\", {\n      ref: \"dropIndicator$\",\n      class: normalizeClass(_ctx.ns.e(\"drop-indicator\"))\n    }, null, 2), [\n      [vShow, _ctx.dragState.showDropIndicator]\n    ])\n  ], 2);\n}\nvar Tree = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"tree.vue\"]]);\n\nexport { Tree as default };\n//# sourceMappingURL=tree.mjs.map\n","import Tree from './src/tree.mjs';\n\nTree.install = (app) => {\n  app.component(Tree.name, Tree);\n};\nconst _Tree = Tree;\nconst ElTree = _Tree;\n\nexport { ElTree, _Tree as default };\n//# sourceMappingURL=index.mjs.map\n"],"names":["NODE_KEY","markNodeData","node","data","getNodeKey","key","handleCurrentChange","store","emit","setCurrent","preCurrentNode","currentNode","getChildState","all","none","allWithoutDisable","i","j","n","reInitChecked","half","parent","getPropertyFromData","prop","props","config","dataProp","nodeIdSeed","Node","options","name","hasOwn","isLeaf","defaultExpandedKeys","children","nodeKey","index","target","deep","child","batch","reactive","ref","dataIndex","targetNode","callback","expandParent","done","item","array","defaultProps","childNodes","value","recursion","passValue","handleDescendants","isCheck","all2","forceInit","newData","oldData","newDataMap","newNodes","resolve","reject","arr","TreeStore","option","loadFn","filterNodeMethod","lazy","traverse","allHidden","newVal","isObject","refData","refNode","parentData","parentNode","isPropAbsent","defaultCheckedKeys","nodesMap","checkedKey","leafOnly","includeHalfChecked","checkedNodes","nodes","allNodes","checkedKeys","a","b","cache","keys","cacheCheckedChild","_a","node2","key2","checked","prevCurrentNode","shouldAutoExpandParent","currNode","_sfc_main","defineComponent","ns","useNamespace","nodeInstance","inject","tree","h","renderSlot","NodeContent","_export_sfc","useNodeExpandEventBroadcast","parentNodeMap","currentNodeMap","provide","childNode","dragEventsKey","useDragNodeHandler","ctx","el$","dropIndicator$","dragState","event","treeNode","dropNode","oldDropNode","removeClass","draggingNode","dropPrev","dropInner","dropNext","userAllowDropInner","targetPosition","treePosition","dropType","prevPercent","nextPercent","indicatorTop","distance","iconPosition","dropIndicator","addClass","draggingNodeCopy","_CollapseTransition","ElCheckbox","ElIcon","Loading","broadcastExpanded","expanded","childNodeRendered","oldChecked","oldIndeterminate","node$","dragEvents","instance","getCurrentInstance","childrenKey","watch","val","handleSelectChange","nextTick","getNodeKey$1","getNodeClass","nodeClassFunc","className","isFunction","isString","indeterminate","handleClick","e","handleExpandIconClick","handleCheckChange","handleContextMenu","ev","nodeData","instance2","CaretRight","_hoisted_1","_hoisted_2","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_component_el_icon","resolveComponent","_component_el_checkbox","_component_loading","_component_node_content","_component_el_tree_node","_component_el_collapse_transition","withDirectives","openBlock","createElementBlock","normalizeClass","withModifiers","args","createElementVNode","normalizeStyle","createBlock","withCtx","resolveDynamicComponent","createCommentVNode","createVNode","Fragment","renderList","vShow","ElTreeNode","useKeydown","treeItems","shallowRef","checkboxItems","onMounted","initTabIndex","onUpdated","checkbox","useEventListener","currentItem","code","currentIndex","nextIndex","EVENT_CODE","startIndex","hasInput","checkedItem","iconPropType","t","useLocale","root","isEmpty","computed","visible","filter","getNodePath","path","getCheckedNodes","getCheckedKeys","getCurrentNode","currentNode2","getCurrentKey","setCheckedNodes","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","setCurrentNode","setCurrentKey","getNode","remove","append","insertBefore","insertAfter","handleNodeExpand","updateKeyChildren","formItemContextKey","toDisplayString","Tree","app","_Tree","ElTree"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}