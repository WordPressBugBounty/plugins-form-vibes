import{dm as ce,A as oe,cc as fe,B as ve,e as j,S as me,d5 as ye,u as x,e4 as pe,cm as te,d8 as J,Q as K,co as ge,cp as be,bw as Ce,cl as he,dU as U,b as Z,d as X,a as R,h as Y,r as E,H as we,C as Ee,cZ as ke,z as G,c as L,o as O,g as V,k as H,n as k,l as o,t as Me,w as I,E as _,I as Te,J as Se,s as q,m as se,_ as ne,cE as Be,cv as le,D as Ie,b4 as De,dX as Le,dY as Q,x as D,e5 as Fe,bn as Ae,e6 as $e,cF as ee,c4 as Oe,f as Pe,y as ze,j as Ne,F as Ye,aS as Re,v as He,T as Xe,a9 as Ue,p as Ve}from"./post-2433f428.js";import{P as W}from"./vnode-5543c613.js";import{g as We,F as je,i as Ke,E as _e}from"./focus-trap-9b255300.js";const qe=(...e)=>t=>{e.forEach(a=>{ce(a)?a(t):a.value=t})},xe=(e,t,a,c)=>{let n={offsetX:0,offsetY:0};const u=v=>{const d=v.clientX,y=v.clientY,{offsetX:p,offsetY:C}=n,f=e.value.getBoundingClientRect(),r=f.left,w=f.top,F=f.width,P=f.height,A=document.documentElement.clientWidth,z=document.documentElement.clientHeight,N=-r+p,$=-w+C,M=A-r-F+p,T=z-w-P+C,h=s=>{let m=p+s.clientX-d,g=C+s.clientY-y;c?.value||(m=Math.min(Math.max(m,N),M),g=Math.min(Math.max(g,$),T)),n={offsetX:m,offsetY:g},e.value&&(e.value.style.transform=`translate(${j(m)}, ${j(g)})`)},S=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",S)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",u)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",u)};oe(()=>{fe(()=>{a.value?i():l()})}),ve(()=>{l()})},Ze=(e,t={})=>{me(e)||ye("[useLockscreen]","You need to pass a ref param to this function");const a=t.ns||x("popup"),c=pe(()=>a.bm("parent","hidden"));if(!te||J(document.body,c.value))return;let n=0,u=!1,i="0";const l=()=>{setTimeout(()=>{he(document?.body,c.value),u&&document&&(document.body.style.width=i)},200)};K(e,v=>{if(!v){l();return}u=!J(document.body,c.value),u&&(i=document.body.style.width),n=We(a.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,y=ge(document.body,"overflowY");n>0&&(d||y==="scroll")&&u&&(document.body.style.width=`calc(100% - ${n}px)`),be(document.body,c.value)}),Ce(()=>l())},ae=e=>{if(!e)return{onClick:U,onMousedown:U,onMouseup:U};let t=!1,a=!1;return{onClick:i=>{t&&a&&e(i),t=a=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{a=i.target===i.currentTarget}}},Je=Z({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),Ge={click:e=>e instanceof MouseEvent},Qe="overlay";var eo=R({name:"ElOverlay",props:Je,emits:Ge,setup(e,{slots:t,emit:a}){const c=x(Qe),n=v=>{a("click",v)},{onClick:u,onMousedown:i,onMouseup:l}=ae(e.customMaskEvent?void 0:n);return()=>e.mask?Y("div",{class:[c.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:i,onMouseup:l},[E(t,"default")],W.STYLE|W.CLASS|W.PROPS,["onClick","onMouseup","onMousedown"]):we("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(t,"default")])}});const oo=eo,ie=Symbol("dialogInjectionKey"),re=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ee},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),to={close:()=>!0},so=["aria-level"],no=["aria-label"],lo=["id"],ao=R({name:"ElDialogContent"}),io=R({...ao,props:re,emits:to,setup(e){const t=e,{t:a}=ke(),{Close:c}=Be,{dialogRef:n,headerRef:u,bodyId:i,ns:l,style:v}=G(ie),{focusTrapRef:d}=G(je),y=L(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center}]),p=qe(d,n),C=L(()=>t.draggable),f=L(()=>t.overflow);return xe(n,u,C,f),(r,w)=>(O(),V("div",{ref:o(p),class:k(o(y)),style:se(o(v)),tabindex:"-1"},[H("header",{ref_key:"headerRef",ref:u,class:k([o(l).e("header"),{"show-close":r.showClose}])},[E(r.$slots,"header",{},()=>[H("span",{role:"heading","aria-level":r.ariaLevel,class:k(o(l).e("title"))},Me(r.title),11,so)]),r.showClose?(O(),V("button",{key:0,"aria-label":o(a)("el.dialog.close"),class:k(o(l).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=F=>r.$emit("close"))},[Y(o(Se),{class:k(o(l).e("close"))},{default:I(()=>[(O(),_(Te(r.closeIcon||o(c))))]),_:1},8,["class"])],10,no)):q("v-if",!0)],2),H("div",{id:o(i),class:k(o(l).e("body"))},[E(r.$slots,"default")],10,lo),r.$slots.footer?(O(),V("footer",{key:0,class:k(o(l).e("footer"))},[E(r.$slots,"footer")],2)):q("v-if",!0)],6))}});var ro=ne(io,[["__file","dialog-content.vue"]]);const uo=Z({...re,appendToBody:Boolean,appendTo:{type:X(String),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[le]:e=>Ie(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(e,t)=>{var a;const n=De().emit,{nextZIndex:u}=Le();let i="";const l=Q(),v=Q(),d=D(!1),y=D(!1),p=D(!1),C=D((a=e.zIndex)!=null?a:u());let f,r;const w=Fe("namespace",$e),F=L(()=>{const b={},B=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(b[`${B}-margin-top`]=e.top),e.width&&(b[`${B}-width`]=j(e.width))),b}),P=L(()=>e.alignCenter?{display:"flex"}:{});function A(){n("opened")}function z(){n("closed"),n(le,!1),e.destroyOnClose&&(p.value=!1)}function N(){n("close")}function $(){r?.(),f?.(),e.openDelay&&e.openDelay>0?{stop:f}=ee(()=>S(),e.openDelay):S()}function M(){f?.(),r?.(),e.closeDelay&&e.closeDelay>0?{stop:r}=ee(()=>s(),e.closeDelay):s()}function T(){function b(B){B||(y.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(b):M()}function h(){e.closeOnClickModal&&T()}function S(){te&&(d.value=!0)}function s(){d.value=!1}function m(){n("openAutoFocus")}function g(){n("closeAutoFocus")}function ue(b){var B;((B=b.detail)==null?void 0:B.focusReason)==="pointer"&&b.preventDefault()}e.lockScroll&&Ze(d);function de(){e.closeOnPressEscape&&T()}return K(()=>e.modelValue,b=>{b?(y.value=!1,$(),p.value=!0,C.value=Ke(e.zIndex)?u():C.value++,Ae(()=>{n("open"),t.value&&(t.value.scrollTop=0)})):d.value&&M()}),K(()=>e.fullscreen,b=>{t.value&&(b?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),oe(()=>{e.modelValue&&(d.value=!0,p.value=!0,$())}),{afterEnter:A,afterLeave:z,beforeLeave:N,handleClose:T,onModalClick:h,close:M,doClose:s,onOpenAutoFocus:m,onCloseAutoFocus:g,onCloseRequested:de,onFocusoutPrevented:ue,titleId:l,bodyId:v,closed:y,style:F,overlayDialogStyle:P,rendered:p,visible:d,zIndex:C}},vo=["aria-label","aria-labelledby","aria-describedby"],mo=R({name:"ElDialog",inheritAttrs:!1}),yo=R({...mo,props:uo,emits:co,setup(e,{expose:t}){const a=e,c=Oe();Pe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!c.title));const n=x("dialog"),u=D(),i=D(),l=D(),{visible:v,titleId:d,bodyId:y,style:p,overlayDialogStyle:C,rendered:f,zIndex:r,afterEnter:w,afterLeave:F,beforeLeave:P,handleClose:A,onModalClick:z,onOpenAutoFocus:N,onCloseAutoFocus:$,onCloseRequested:M,onFocusoutPrevented:T}=fo(a,u);ze(ie,{dialogRef:u,headerRef:i,bodyId:y,ns:n,rendered:f,style:p});const h=ae(z),S=L(()=>a.draggable&&!a.fullscreen);return t({visible:v,dialogContentRef:l}),(s,m)=>(O(),_(Ue,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[Y(Xe,{name:"dialog-fade",onAfterEnter:o(w),onAfterLeave:o(F),onBeforeLeave:o(P),persisted:""},{default:I(()=>[Ne(Y(o(oo),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(r)},{default:I(()=>[H("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(d),"aria-describedby":o(y),class:k(`${o(n).namespace.value}-overlay-dialog`),style:se(o(C)),onClick:m[0]||(m[0]=(...g)=>o(h).onClick&&o(h).onClick(...g)),onMousedown:m[1]||(m[1]=(...g)=>o(h).onMousedown&&o(h).onMousedown(...g)),onMouseup:m[2]||(m[2]=(...g)=>o(h).onMouseup&&o(h).onMouseup(...g))},[Y(o(_e),{loop:"",trapped:o(v),"focus-start-el":"container",onFocusAfterTrapped:o(N),onFocusAfterReleased:o($),onFocusoutPrevented:o(T),onReleaseRequested:o(M)},{default:I(()=>[o(f)?(O(),_(ro,Ye({key:0,ref_key:"dialogContentRef",ref:l},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(S),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(A)}),Re({header:I(()=>[s.$slots.title?E(s.$slots,"title",{key:1}):E(s.$slots,"header",{key:0,close:o(A),titleId:o(d),titleClass:o(n).e("title")})]),default:I(()=>[E(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:I(()=>[E(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[He,o(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var po=ne(yo,[["__file","dialog.vue"]]);const ho=Ve(po);export{ho as E};
//# sourceMappingURL=index-07a2ad8d.js.map
